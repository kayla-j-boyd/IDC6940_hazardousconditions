Kayla Boyd
IDC6940

1. Samar, A. E., Graziella D’Arrigo, Leonardis, D., Fusaro, M., Tripepi, G., & Roumeliotis, S. (2021). Methods to analyze time-to-event data: The cox regression analysis. Oxidative Medicine and Cellular Longevity, 2021 doi:https://doi.org/10.1155/2021/1302811

Cox regression is used to perform survival analyses
It assumes that the effects of different variables on the outcome (survival) are constant over time
The hazard ratio (HR) is the ratio of the two hazard rates of a given event in treated vs untreated patients, and the magnitude if the hazard rate change

If the risk factor is binary, the result can be interpreted as the estimated increase in HR in patients with the risk factor vs those without
If the risk factor is continuous, the HR is interpreted as an increase/decrease in the hazard rate of death due to a 1 unit increase in the variable.
The number of covariates tested by the Cox method must account for the number of patients with the event of interest.


2. Paul C. van Dijk, Kitty J. Jager, Aeilko H. Zwinderman, Carmine Zoccali, Friedo W. Dekker,
The analysis of survival data in nephrology: basic concepts and methods of Cox regression,
Kidney International,
Volume 74, Issue 6,
2008,
Pages 705-709,
ISSN 0085-2538,
https://doi.org/10.1038/ki.2008.294.
(https://www.sciencedirect.com/science/article/pii/S0085253815534078)

Cox regression is able to account for censored (missing/erroneous) observations as opposed to linear or logistic regression.
If the graphical inspection of survival curves intersect, it means we can not assume proportionality.
Plot the incidence rate functions of contrasting groups OR
Introduce an interaction term between covariate of interest and time
The hazard for an individual is influenced by the baseline hazard and a covariate effect.

3. Walters, S.J. (2012), Analyzing time to event outcomes with a Cox regression model. WIREs Comp Stat, 4: 310-315. https://doi.org/10.1002/wics.1197
Survival times can refer to the development of a symptom, time to relapse after remission of a disease, or as time to death.
The event of interest is rarely observed in all patients - i.e. censored observations.
The hazard function is the probability that an individual will experience an event (death) within a small time interval, given that they survived up to the beginning 

The assumption of a constant relationship between dependent and explanatory variables is called proportional hazards




Week 3 - Summaries

4. Zhang Z, Reinikainen J, Adeleke KA, Pieterse ME, Groothuis-Oudshoorn CGM. Time-varying covariates and coefficients in Cox regression models. Ann Transl Med. 2018 Apr;6(7):121. doi: 10.21037/atm.2018.02.12. PMID: 29955581; PMCID: PMC6015946.

Time-varying covariates can be used when a covariate changes over time during the follow-up period.
Internal time-varying covariates are affected by survival status, they include values that are generated by the individual under study, such as age of subject.
External covariates are predetermined and external to the subject, but may affect the failure process. Examples could include age of the subject in a long-term study.
First step is to reshape the data frame so there are multiple rows per subject, along with covariate values.
Use survival package tmerge()
Time-varying effects emerge if proportional hazards are not fulfilled, so to identify is to test assumption after fitting Cox proportional hazards model
Survival package, use cox.zph() function to test proportional hazards
First a cox regression model is fit using coxph() function
Left side is response variable defined by surv() function, right side displays covariates
The object returned by coxph() function is first argument in cox.zph() function
Using the plot() function we can visualize turning points in the data and use the approximate time to split the analysis time

5. riskRegression: Predicting the risk of an event using Cox regression models. / Ozenne, Brice; Sørensen, Anne Lyngholm; Scheike, Thomas et al.
In: The R Journal, Vol. 9, No. 2, 01.12.2017, p. 440-460.

Risk regression package allows more than 2 competing risks:
Estimate cause-specific hazards using csc() function
The output is a class “Cause Specific Cox” which will be used to compute absolute risk
Next step is to call predict() method

newdata <- data.frame(age = c(45,67), logthick = c(0.1,0.2), epicel = c("present","not present"), sex = c("Female","Male")) 

pfit1 <- predict(cfit1, newdata = newdata, cause = 1, times = c(867,3500))

To obtain confidence intervals set se argument to TRUE
Use autoplot() for predicted risk across time

6. Thomas, L., & Reyes, E. M. (2014). Tutorial: Survival Estimation for Cox Regression Models with Time-Varying Coefficients Using SAS and R. Journal of Statistical Software, Code Snippets, 61(1), 1–23. https://doi.org/10.18637/jss.v061.c01

Data preparation starts with coxph() which separates one observation per subject into separate time intervals
data = R data frame that identifies the single-record-per-patient data set that we want to expand into the counting process style. 
  cut = numeric vector of unique event times. 
  end = character string corresponding to the variable name for time of event or censoring in data. This will become the variable representing the end, or stop time, of each time interval in the counting process style. 
  event = character string corresponding to the name of the binary variable that indicates events in data. It is important that this variable takes a value of 1 for events and 0 otherwise
  
First we must define a vector of unique time events

R> cut.points <- unique(SURV$time[SURV$death == 1])
Use newdata option in survfit to provide the desired covariate values in the data frame

In order to obtain predictions from this time-varying model, we create a data set with the intervals between event times and another for covariate values at which we want predictions.

R> last <- rossi2$id[which.max(rossi2$week)] R> intervals <- rossi2[rossi2$id == last, c("week0", "week", "arrest")] 
R> covs <- data.frame(rbind(cbind(rossi[c("age", "prio")], fin = 0), + cbind(rossi[c("age", "prio")], fin = 1)))

